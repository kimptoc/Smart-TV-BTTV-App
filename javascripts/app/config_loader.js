((function(){bttv.ConfigLoadError=function(a,b,c){var d=this;return bttv.log("Error loading config"),$.get("views/config_load_error.serenade",function(a){var b,c;return c=Serenade.view("config_load_error",a),b=c.render(),bttv.log(b),$("#intro-image").fadeOut(800,function(){return $("#loading-message").html(b)})})},bttv.ConfigLoadComplete=function(){return bttv.log("Config Load Complete")},bttv.ConfigLoader=function(){return bttv.log("config loading..."),$.ajax(bttv.remote_config_url,{dataType:"json",complete:bttv.ConfigLoadComplete,error:bttv.ConfigLoadError,success:function(a){var b,c,d,e,f,g,h,i;bttv.log("channels response:",a),bttv.station=new Serenade.Model(a.station),bttv.station.set("selected_channel",0),e=new Serenade.Collection([]),bttv.station.hasMany("channels"),b=1,h=a.channels,i=[];for(f=0,g=h.length;f<g;f++)c=h[f],c.enabled!=="false"?(d=new Serenade.Model(c),d.set("buid",bttv.get_buid(b)),b++,d.belongsTo(bttv.station),i.push(bttv.station.channels.push(d))):i.push(void 0);return i}})}})).call(this)